{% extends "base.html" %}

<!-- è‡ªå®šä¹‰äºŒæ¬¡å…ƒé£æ ¼æ¨¡æ¿ -->
{% block extrahead %}
  <!-- è‡ªå®šä¹‰CSS -->
  <link rel="stylesheet" href="{{ 'assets/stylesheets/anime-style.css' | url }}">
  <link rel="stylesheet" href="{{ 'assets/stylesheets/anime-components.css' | url }}">
  <link rel="stylesheet" href="{{ 'assets/stylesheets/theme-switcher.css' | url }}">
  
  <!-- è‡ªå®šä¹‰å­—ä½“ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700;900&family=Cute+Font&display=swap" rel="stylesheet">
  
  <!-- é¢å¤–çš„metaæ ‡ç­¾ -->
  <meta name="theme-color" content="#ff6b9d">
  <meta name="msapplication-TileColor" content="#ff6b9d">
  
  <!-- è‡ªå®šä¹‰æ ·å¼ -->
  <style>
    /* å­—ä½“è®¾ç½® */
    body, .md-typeset {
      font-family: 'Noto Sans SC', 'Cute Font', sans-serif !important;
    }
    
    /* é¡µé¢èƒŒæ™¯ */
    body {
      background: linear-gradient(135deg, #ffeef8 0%, #fff0f5 100%) !important;
      background-attachment: fixed;
    }
    
    /* è‡ªå®šä¹‰åŠ è½½åŠ¨ç”» */
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }
    
    .loading-content {
      text-align: center;
      color: white;
    }
    
    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-top: 4px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .loading-text {
      font-size: 18px;
      font-weight: 500;
      margin-top: 10px;
    }
    
    /* éšè—åŠ è½½åŠ¨ç”» */
    .loading-overlay.hidden {
      opacity: 0;
      pointer-events: none;
    }
  </style>
{% endblock %}

<!-- è‡ªå®šä¹‰é¡µé¢å†…å®¹ -->
{% block content %}
  <!-- åŠ è½½åŠ¨ç”» -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="loading-content">
      <div class="loading-spinner"></div>
      <div class="loading-text">ğŸŒ¸ åŠ è½½ä¸­... ğŸŒ¸</div>
    </div>
  </div>
  
  <!-- åŸå§‹å†…å®¹ -->
  {{ super() }}
{% endblock %}

<!-- è‡ªå®šä¹‰è„šæœ¬ -->
{% block scripts %}
  {{ super() }}
  
  <!-- è‡ªå®šä¹‰JavaScript -->
  <script src="{{ 'assets/javascripts/anime-effects.js' | url }}"></script>
  <script src="{{ 'assets/javascripts/theme-switcher.js' | url }}"></script>
  
  <!-- é¡µé¢åŠ è½½å®Œæˆåéšè—åŠ è½½åŠ¨ç”» -->
  <script>
    window.addEventListener('load', function() {
      setTimeout(function() {
        const loadingOverlay = document.getElementById('loadingOverlay');
        if (loadingOverlay) {
          loadingOverlay.classList.add('hidden');
          setTimeout(function() {
            loadingOverlay.remove();
          }, 500);
        }
      }, 1000);
    });
    
    // æ·»åŠ é¡µé¢åˆ‡æ¢åŠ¨ç”»
    document.addEventListener('DOMContentLoaded', function() {
      // ç›‘å¬å¯¼èˆªé“¾æ¥ç‚¹å‡»
      const navLinks = document.querySelectorAll('a[href^="/"], a[href^="."]');
      navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          // æ·»åŠ é¡µé¢åˆ‡æ¢æ•ˆæœ
          const content = document.querySelector('.md-content');
          if (content) {
            content.style.transform = 'scale(0.95)';
            content.style.opacity = '0.7';
            content.style.transition = 'all 0.3s ease';
          }
        });
      });
    });
    
    // æ·»åŠ è‡ªå®šä¹‰æ§åˆ¶å°æ¬¢è¿ä¿¡æ¯
    console.log('%cğŸŒ¸ æ¬¢è¿æ¥åˆ° CNC-CMD çŸ¥è¯†å…±äº«å¹³å° ğŸŒ¸', 'color: #ff6b9d; font-size: 20px; font-weight: bold;');
    console.log('%cè¿™æ˜¯ä¸€ä¸ªå……æ»¡äºŒæ¬¡å…ƒé£æ ¼çš„çŸ¥è¯†åˆ†äº«å¹³å°ï¼', 'color: #c44569; font-size: 14px;');
    console.log('%cå¦‚æœä½ å–œæ¬¢è¿™ä¸ªè®¾è®¡ï¼Œæ¬¢è¿ä¸ºæˆ‘ä»¬çš„é¡¹ç›®ç‚¹æ˜Ÿâ­', 'color: #f8b500; font-size: 12px;');
  </script>
{% endblock %}

<!-- è‡ªå®šä¹‰é¡µè„š -->
{% block footer %}
  <footer class="md-footer">
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
            ğŸŒ¸ Made with â¤ï¸ by CNC-CMD Team ğŸŒ¸
          </div>
          <div style="margin-top: 10px; font-size: 12px; opacity: 0.8;">
            Powered by MkDocs & Material Theme with Anime Style âœ¨
          </div>
        </div>
        
        {% if config.repo_url %}
          <div class="md-footer-social">
            <a href="{{ config.repo_url }}" target="_blank" rel="noopener" 
               style="color: white; text-decoration: none; margin: 0 10px;">
              <span style="font-size: 20px;">â­</span> Star us on GitHub
            </a>
          </div>
        {% endif %}
      </div>
    </div>
  </footer>
{% endblock %}